{"version":3,"sources":["/assets/scripts/main.js"],"names":["initMap","data","closeInfoboxes","infoboxes","forEach","element","index","close","items","ibOptions","disableAutoPan","maxWidth","pixelOffset","google","maps","Size","zIndex","boxStyle","width","height","closeBoxURL","infoBoxClearance","isHidden","pane","enableEventPropagation","markers","map","Map","document","getElementById","zoom","center","lat","lng","length","i","item","y","regions","region","ELlng","ELlat","marker","Marker","position","icon","el","$","class","elLink","href","id","appendTo","elTextWrap","src","image","alt","name","elTitleWrap","text","info","ib","InfoBox","setContent","get","event","addListener","open","this","setCenter","getPosition","push","MarkerClusterer","imageExtension","imagePath","maxZoom","minimumClusterSize","styles","url","anchor","textColor","textSize","fontWeight","ready","xhr","getJSON","done","click","e","preventDefault","parent","toggleClass","attr","not","removeClass","addClass"],"mappings":"AAAA,QAAAA,SAAAC,GAqGA,QAAAC,KACAC,EAAAC,QAAA,SAAAC,EAAAC,GACAD,EAAAE,UAtGA,GAAAC,GACAC,GACAC,gBAAA,EACAC,SAAA,EACAC,YAAA,GAAAC,QAAAC,KAAAC,YAAA,IACAC,OAAA,KACAC,UACAC,MAAA,QACAC,OAAA,QAEAC,YAAA,GACAC,iBAAA,GAAAR,QAAAC,KAAAC,KAAA,EAAA,GACAO,UAAA,EACAC,KAAA,YACAC,wBAAA,GAGAC,KACAtB,KAEAuB,EAAA,GAAAb,QAAAC,KAAAa,IAAAC,SAAAC,eAAA,QACAC,KAAA,EACAC,QAAAC,IAAA,WAAAC,IAAA,aAGA,IAAAhC,EAAAiC,OAAA,EAAA,CACA1B,EAAAP,CACA,KAAA,GAAAkC,GAAA,EAAAA,EAAA3B,EAAA0B,OAAAC,IAEA,IAAA,GADAC,GAAA5B,EAAA2B,GACAE,EAAA,EAAAA,EAAAD,EAAAE,QAAAJ,OAAAG,IAAA,CACA,GAAAE,GAAAH,EAAAE,QAAAD,GACAG,EAAAD,EAAAN,GACAQ,OAAAF,EAAAP,IACAU,OAAA,GAAA7B,QAAAC,KAAA6B,QACAC,UAAAZ,IAAAS,MAAAR,IAAAO,GACAd,IAAAA,EACAmB,KAAA,+BAGA,IAAAC,GAAAC,EAAA,UACAC,QAAA,cAGAC,EAAAF,EAAA,QACAG,KAAA,UAAAd,EAAAe,KACAC,SAAAN,GAOAO,GALAN,EAAA,WACAO,IAAAlB,EAAAmB,MACAC,IAAApB,EAAAqB,OACAL,SAAAH,GAEAF,EAAA,UACAC,QAAA,SACAI,SAAAH,IAEAS,EAAAX,EAAA,SAAAK,SAAAC,EAEAN,GAAA,WACAY,KAAAvB,EAAAqB,OACAL,SAAAM,GAEAX,EAAA,QACAY,KAAAvB,EAAAwB,OACAR,SAAAC,EAEA,MAAAQ,GAAA,GAAAC,SAAArD,EACAoD,GAAAE,WAAAjB,EAAAkB,IAAA,IAEAnD,OAAAC,KAAAmD,MAAAC,YAAAxB,OAAA,QAAA,WACAxC,IACA2D,EAAAM,KAAAzC,EAAA0C,MACA1C,EAAA2C,UAAAD,KAAAE,iBAGA7C,EAAA8C,KAAA7B,QACAvC,EAAAoE,KAAAV,IAIA,GAAAW,iBAAA9C,EAAAD,GACAgD,eAAA,MACAC,UAAA,gBACAC,QAAA,GACAC,mBAAA,EACAC,SACAC,IAAA,qBACA3D,OAAA,GACAD,MAAA,GACA6D,QAAA,EAAA,GACAC,UAAA,UACAC,SAAA,GACAC,WAAA,UAIAxD,GAAAwC,YAAA,QAAA,WACAhE,MAUA6C,EAAAnB,UAAAuD,MAAA,WACA,GAAApC,EAAA,QAAAb,OAAA,CACA,GAAAkD,GAAArC,EAAAsC,QAAA,oBACAD,GAAAE,KAAAtF,SAGA+C,EAAA,wBAAAwC,MAAA,SAAAC,GACAA,EAAAC,iBACA1C,EAAAqB,MAAAsB,SAAAC,YAAA,YAGA5C,EAAA,eAAAwC,MAAA,WACA,GAAApC,GAAAJ,EAAAqB,MAAAwB,KAAA,OACA7C,GAAA,eAAA8C,IAAAzB,MAAA0B,YAAA,YACA/C,EAAA,eAAA8C,IAAA1C,GAAA2C,YAAA,UACA/C,EAAAqB,MAAA2B,SAAA,YACAhD,EAAAI,GAAA4C,SAAA,YAGAhD,EAAA,iBAAAwC,MAAA,SAAAC,GACAA,EAAAC,iBACA1C,EAAA,QAAA4C,YAAA","file":"main.min.js","sourcesContent":["function initMap(data) {\n  var items;\n  var ibOptions = {\n    disableAutoPan: false,\n    maxWidth: 0,\n    pixelOffset: new google.maps.Size(-160, 10),\n    zIndex: null,\n    boxStyle: {\n      width: \"320px\",\n      height: \"80px\"\n    },\n    closeBoxURL : \"\",\n    infoBoxClearance: new google.maps.Size(1, 1),\n    isHidden: false,\n    pane: \"floatPane\",\n    enableEventPropagation: false\n  };\n\n  var markers = [];\n  var infoboxes = [];\n\n  var map = new google.maps.Map(document.getElementById('map'), {\n    zoom: 3,\n    center: {lat: 53.1744575, lng: 50.2548807}\n  });\n\n  if (data.length > 0) {\n    items = data;\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      for (var y = 0; y < item.regions.length; y++) {\n        var region  = item.regions[y],\n            ELlng   = region.lng\n            ELlat   = region.lat,\n            marker  = new google.maps.Marker({\n              position: {lat: ELlat, lng: ELlng},\n              map: map,\n              icon: './assets/images/map/map-marker.svg'\n            });\n\n        var el = $('<div/>', {\n          class: \"map-popup\"\n        });\n\n        var elLink = $('<a/>', {\n          href: \"/video/\" + item.id,\n        }).appendTo(el);\n\n        var elImg = $('<img />', {\n          src: item.image,\n          alt: item.name\n        }).appendTo(elLink);\n\n        var elTextWrap = $('<div/>', {\n          \"class\": \"text\"\n        }).appendTo(elLink);\n\n        var elTitleWrap = $('<h3/>').appendTo(elTextWrap);\n\n        var elTitle = $('<span/>', {\n          text: item.name\n        }).appendTo(elTitleWrap);\n\n        var elText = $('<p/>', {\n          text: item.info\n        }).appendTo(elTextWrap);\n\n        const ib = new InfoBox(ibOptions);\n        ib.setContent(el.get(0));\n\n        google.maps.event.addListener(marker, 'click', function () {\n          closeInfoboxes();\n          ib.open(map,this);\n          map.setCenter(this.getPosition());\n        });\n\n        markers.push(marker);\n        infoboxes.push(ib);\n      }\n    }\n  }\n  var markerCluster = new MarkerClusterer(map, markers, {\n    imageExtension: 'svg',\n    imagePath: './assets/images/map/',\n    maxZoom: 14,\n    minimumClusterSize: 2,\n    styles: [{\n      url: './assets/images/map/1.svg',\n      height: 60,\n      width: 60,\n      anchor: [0, 0],\n      textColor: '#FFFFFF',\n      textSize: 14,\n      fontWeight: 'bold'\n    }]\n  });\n\n  map.addListener('click', function() {\n    closeInfoboxes();\n  });\n\n  function closeInfoboxes() {\n    infoboxes.forEach( function(element, index) {\n      element.close();\n    });\n  }\n}\n\n$(document).ready(function() {\n  if($('#map').length) {\n    var xhr = $.getJSON('/assets/map.json');\n    xhr.done(initMap);\n  }\n\n  $('.accordion--item > a').click(function(e) {\n    e.preventDefault();\n    $(this).parent().toggleClass('u-open');\n  });\n\n  $('.tabs--link').click(function() {\n    var id = $(this).attr('href');\n    $('.tabs--link').not(this).removeClass('u-active');\n    $('.tabs--item').not(id).removeClass('u-open');\n    $(this).addClass('u-active');\n    $(id).addClass('u-open');\n  });\n\n  $('.menu--toggle').click(function(e) {\n    e.preventDefault();\n    $('body').toggleClass('menu-open');\n  });\n});"]}